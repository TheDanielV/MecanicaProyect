{% extends 'base/servicios.html' %}

{% block content %}

   <div class="container mt-5">
        <div class="d-flex justify-content-between align-items-center mb-3">
            <h1>Servicios</h1>
      <button
          class="btn btn-primary btn-submit"
          onclick="window.location.href = '{% url 'crearServicio' %}'"
          
        >
          Nuevo
        </button>
        </div>
        <div class="table-responsive">
            <table class="table table-bordered table-sm">
                <thead  class="services-table">
                    <tr style="background-color: #A62D43; color: white">
                        <th style="max-width: 100px;">ID</th>
                        <th style="max-width: 150px;">Nombre</th>
                        <th style="max-width: 300px;">Descripci√≥n</th>
                        <th style="max-width: 100px;">Precio</th>
                        <th style="max-width: 150px;">Acciones</th>
                    </tr>
                </thead>
                <tbody>
                    {% for service in services %}
                    <tr>
                        <td class="text-wrap" style="word-break: break-word; max-width: 100px;">{{ service.id }}</td>
                        <td class="text-wrap" style="word-break: break-word; max-width: 150px;">{{ service.nombre }}</td>
                        <td class="text-wrap" style="word-break: break-word; max-width: 300px;">{{ service.descripcion }}</td>
                        <td class="text-wrap" style="word-break: break-word; max-width: 100px;">{{ service.precio }}</td>
                        <td class="text-nowrap" style="word-break: break-word; max-width: 150px;">
                            <a href="{% url 'editar_servicio' service.id %}" class="btn btn-outline-success btn-sm">‚úèÔ∏è</a>
                            <button onclick="eliminarServicio({{ service.id }})" class="btn btn-outline-danger btn-sm">üóëÔ∏è</button>
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>

    <script>
        function eliminarServicio(serviceId) {
            Swal.fire({
                title: '¬øEst√°s seguro?',
                text: "Esta acci√≥n no se puede deshacer",
                icon: 'warning',
                showCancelButton: true,
                confirmButtonColor: '#3085d6',
                cancelButtonColor: '#d33',
                confirmButtonText: 'S√≠, eliminar'
            }).then((result) => {
                if (result.isConfirmed) {
                    // L√≥gica para eliminar el servicio
                    // Por ejemplo, redirigir a una URL de eliminaci√≥n
                    window.location.href = ``;
                }
            })
        }
    </script>

{% endblock %}
