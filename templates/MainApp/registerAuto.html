{% extends 'base/autos.html' %}

{% block content %}
<div class="container mt-5">
    <h1 class="text-center">Registrar Vehículo</h1>

    <div class="container mt-4 d-flex justify-content-center">
        <form method="post" action="{% url 'registrarAuto' %}" class="w-50" id="regiter">
            {% csrf_token %}
            <div class="form-group mb-3">
                <label for="año">Año</label>
                <input type="text" class="form-control mt-2" id="año" name="año" placeholder="Ingrese el año" required>
            </div>

            <div class="form-group mb-3">
                <label for="marca">Marca</label>
                <input type="text" class="form-control mt-2" id="marca" name="marca" placeholder="Ingrese la marca" required>
            </div>

            <div class="form-group mb-3">
                <label for="modelo">Modelo</label>
                <input type="text" class="form-control mt-2" id="modelo" name="modelo" placeholder="Ingrese el modelo" required>
            </div>

            <div class="form-group mb-3">
                <label for="placa">Placa</label>
                <input type="text" class="form-control mt-2 " id="placa" name="placa" placeholder="Ingrese la placa" required>
                        <p id="mensajeError" style="color: red;"></p>
            </div>

            <div class="form-group mb-3">
                <label for="color">Color</label>
                <input type="text" class="form-control mt-2" id="color" name="color" placeholder="Ingrese el color" required>
            </div>

            <div class="text-center mt-4">
                <button type="submit" class="btn btn-lg" style="background-color:#A62D43; border-color:#A62D43; color:#fff">Registrar</button>
            </div>
        </form>
    </div>

</div>
        <script>
        document.getElementById('regiter').addEventListener('submit', function(event) {
            const codigo = document.getElementById('placa').value;
            const regex = /^[A-Z]{3}-\d{3,4}$/;

            if (!regex.test(codigo)) {
                event.preventDefault();
                document.getElementById('mensajeError').textContent = 'Placa Incorrecta, ingreselo de la forma XXX-123/XXX-1234';
            } else {
                document.getElementById('mensajeError').textContent = '';
            }
        });
    </script>
{% endblock %}