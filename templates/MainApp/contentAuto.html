{% extends 'base/autos.html' %}

{% block content %}

<!--MIS AUTOS-->
    <div class="container mt-5">
      <div class="d-flex justify-content-between align-items-center mb-3">
        <h1 class="mx-auto text-center font-weight-bold">
          Mis Autos
        </h1>
        <button
          class="btn btn-lg"
          onclick="window.location.href = '{% url 'registrarAuto' %}'
          "
          style="background-color:#A62D43; border-color:#A62D43; color:#ffff"
        >
          Registrar vehículo
        </button>
      </div>

  {% for auto in autos %}
    <div class="card shadow mt-5 mx-auto w-80">
        <div class="row g-0">
            <div class="col-md-4">
                <img src="https://cdn.pixabay.com/photo/2015/10/01/17/17/car-967387_1280.png"
                    class="img-fluid rounded-start" alt="..." />
            </div>
            <div class="col-md-8">
                <div class="card-body">
                    <h5 class="card-text mt-2">Año: {{ auto.anio }}</h5>
                    <h5 class="card-text mt-4">Marca: {{ auto.marca }}</h5>
                    <h5 class="card-text mt-4">Modelo: {{ auto.model }}</h5>
                    <h5 class="card-text mt-4">Placa: {{ auto.placa }}</h5>
                     <button 
                        class="btn btn-danger mt-4" 
                        onclick="confirmDeletion({{ auto.id }})">
                        Eliminar
                        </button>
                </div>
            </div>
        </div>
    </div>
    {% endfor %}
    
    <script>
    function confirmDeletion(vehiculoId) {
      Swal.fire({
        title: '¿Estás seguro?',
        text: "Esta acción no se puede deshacer",
        icon: 'warning',
        showCancelButton: true,
        confirmButtonColor: '#3085d6',
        cancelButtonColor: '#d33',
        confirmButtonText: 'Sí, eliminar'
      }).then((result) => {
        if (result.isConfirmed) {
          window.location.href = "{% url 'eliminarAuto' auto_id=0 %}".replace('0', vehiculoId);
        }
      });
    }
  </script>
    </div>





{% endblock %}